{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Buff.js","webpack:///./src/js/Building.js","webpack:///./src/js/Builds/BookCity.js","webpack:///./src/js/Builds/Bungalow.js","webpack:///./src/js/Builds/BusinessCenter.js","webpack:///./src/js/Builds/Chalet.js","webpack:///./src/js/Builds/ChineseSmallBuilding.js","webpack:///./src/js/Builds/ClothingStore.js","webpack:///./src/js/Builds/ConvenienceStore.js","webpack:///./src/js/Builds/FolkFood.js","webpack:///./src/js/Builds/FoodFactory.js","webpack:///./src/js/Builds/GardenHouse.js","webpack:///./src/js/Builds/GasStation.js","webpack:///./src/js/Builds/HardwareStore.js","webpack:///./src/js/Builds/MediaVoice.js","webpack:///./src/js/Builds/PaperMill.js","webpack:///./src/js/Builds/PartsFactory.js","webpack:///./src/js/Builds/PeoplesOil.js","webpack:///./src/js/Builds/PowerPlant.js","webpack:///./src/js/Builds/Residential.js","webpack:///./src/js/Builds/RevivalMansion.js","webpack:///./src/js/Builds/School.js","webpack:///./src/js/Builds/SkyVilla.js","webpack:///./src/js/Builds/SmallApartment.js","webpack:///./src/js/Builds/SteelPlant.js","webpack:///./src/js/Builds/SteelStructureHouse.js","webpack:///./src/js/Builds/TalentApartment.js","webpack:///./src/js/Builds/TencentMachinery.js","webpack:///./src/js/Builds/TextileMill.js","webpack:///./src/js/Builds/VegetableMarket.js","webpack:///./src/js/Builds/WaterPlant.js","webpack:///./src/js/Builds/WoodFactory.js","webpack:///./src/js/worker.js"],"names":["Buff","range","target","buff","BuffRange","Global","Online","Offline","Supply","Residence","Business","Industrial","Targets","BuffSource","Building","Policy","Photo","Quest","Buffs","source","b","push","BuildingName","quest","building","buffs","forEach","getBuffValue","result","BuildingType","name","rarity","type","baseMoney","star","addition","money","Calculation","Object","keys","multiple","BuildingRarity","Common","Rare","Legendary","BookCity","School","PaperMill","Bungalow","BusinessCenter","GardenHouse","Chalet","WoodFactory","ChineseSmallBuilding","ClothingStore","TextileMill","ConvenienceStore","Residential","FolkFood","SkyVilla","FoodFactory","VegetableMarket","GasStation","PeoplesOil","HardwareStore","PartsFactory","MediaVoice","TencentMachinery","PowerPlant","RevivalMansion","SmallApartment","SteelPlant","SteelStructureHouse","TalentApartment","WaterPlant","onmessage","e","data","calculation","list","buildings","item","initBuffs","programs","program","sel","getFlagArrs","length","val","p","v","index","c","onlineMoney","supplyMoney","supply","supplyRarity","legendary","rare","offlineMoney","progressFull","val1","i1","postMessage","mode","progress","Math","round","val2","val3","temp","online","offline","add","t","addBuilding","addQuest","a","supplyBuff","m","n","resultArrs","flagArr","isEnd","i","j","leftCnt","concat","aTmp","slice","join","indexOf"],"mappings":"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","file":"static/worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/worker.js\");\n","import {BuildingType} from \"./Building\";\r\n\r\nclass Buff {\r\n    constructor(range,target,buff){\r\n        this.range = range;\r\n        this.target = target;\r\n        this.buff = buff;\r\n    }\r\n}\r\n\r\nlet BuffRange = {\r\n    Global:\"所有建筑\",\r\n    Online:\"在线\",\r\n    Offline:\"离线\",\r\n    Supply:\"供货\",\r\n    Residence:\"住宅建筑\",\r\n    Business:\"商业建筑\",\r\n    Industrial:\"工业建筑\",\r\n    Targets:\"特定建筑物\"\r\n};\r\n\r\nlet BuffSource = {\r\n    Building:\"建筑加成\",\r\n    Policy:\"政策加成\",\r\n    Photo:\"游记加成\",\r\n    Quest:\"任务加成\"\r\n};\r\n\r\nclass Buffs {\r\n    constructor(){\r\n        this.Building = []; //建筑加成\r\n        this.Policy = []; //政策加成\r\n        this.Photo = []; //游记加成\r\n        this.Quest = []; //任务加成\r\n    }\r\n\r\n    add(source,buff){\r\n        let b = new Buff(buff.range,buff.target,buff.buff/100);\r\n        switch (source) {\r\n            case BuffSource.Policy:\r\n                this.Policy.push(b);\r\n                break;\r\n            case BuffSource.Photo:\r\n                this.Photo.push(b);\r\n                break;\r\n            case BuffSource.Quest:\r\n                this.Quest.push(b);\r\n                break;\r\n        }\r\n    }\r\n\r\n    addQuest(target){\r\n        let b = new Buff(BuffRange.Targets,target.BuildingName,target.quest/100);\r\n        this.Quest.push(b);\r\n    }\r\n\r\n    addBuilding(building){\r\n        building.buffs.forEach((buff)=>{\r\n            this.Building.push(new Buff(buff.range,buff.target,building.getBuffValue(buff)));\r\n        });\r\n    }\r\n\r\n    Calculation(source, building) {\r\n        let result = {};\r\n        result[BuffRange.Online] = 1;\r\n        result[BuffRange.Offline] = 1;\r\n        let buffs;\r\n        switch (source) {\r\n            case BuffSource.Building:\r\n                buffs = this.Building;\r\n                break;\r\n            case BuffSource.Policy:\r\n                buffs = this.Policy;\r\n                break;\r\n            case BuffSource.Photo:\r\n                buffs = this.Photo;\r\n                break;\r\n            case BuffSource.Quest:\r\n                buffs = this.Quest;\r\n                break;\r\n            default:\r\n                return result;\r\n        }\r\n        buffs.forEach((buff) => {\r\n            switch (buff.range) {\r\n                case BuffRange.Global:\r\n                    result[BuffRange.Online] += buff.buff;\r\n                    result[BuffRange.Offline] += buff.buff;\r\n                    break;\r\n                case BuffRange.Online:\r\n                    result[BuffRange.Online] += buff.buff;\r\n                    break;\r\n                case BuffRange.Offline:\r\n                    result[BuffRange.Offline] += buff.buff;\r\n                    break;\r\n                case BuffRange.Business:\r\n                    if (building.BuildingType === BuildingType.Business) {\r\n                        result[BuffRange.Online] += buff.buff;\r\n                        result[BuffRange.Offline] += buff.buff;\r\n                    }\r\n                    break;\r\n                case BuffRange.Residence:\r\n                    if (building.BuildingType === BuildingType.Residence) {\r\n                        result[BuffRange.Online] += buff.buff;\r\n                        result[BuffRange.Offline] += buff.buff;\r\n                    }\r\n                    break;\r\n                case BuffRange.Industrial:\r\n                    if (building.BuildingType === BuildingType.Industrial) {\r\n                        result[BuffRange.Online] += buff.buff;\r\n                        result[BuffRange.Offline] += buff.buff;\r\n                    }\r\n                    break;\r\n                case BuffRange.Targets:\r\n                    if (buff.target === building.BuildingName) {\r\n                        result[BuffRange.Online] += buff.buff;\r\n                        result[BuffRange.Offline] += buff.buff;\r\n                    }\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n\r\n    get supplyBuff(){\r\n        let b = 0;\r\n        [this.Building,this.Policy,this.Photo,this.Quest].forEach((buffs)=>{\r\n            buffs.forEach((buff) => {\r\n                if (buff.range === BuffRange.Supply) {\r\n                    b += buff.buff;\r\n                }\r\n            });\r\n        });\r\n        return b;\r\n    }\r\n}\r\n\r\nexport {\r\n    Buff,\r\n    Buffs,\r\n    BuffRange,\r\n    BuffSource\r\n}","import {BuffRange, BuffSource} from \"./Buff\";\r\n\r\n\r\nclass Building{\r\n    constructor(name,rarity,type,baseMoney){\r\n        this.star = 0;\r\n        this.quest = 0;\r\n        this.buffs = [];  //建筑加成\r\n        this.BuildingName = name;\r\n        this.rarity = rarity;\r\n        this.BuildingType = type;\r\n        this.baseMoney = baseMoney;\r\n    }\r\n\r\n    calculation(buffs){\r\n        let addition = {};\r\n        let money = this.money;\r\n        addition[BuffRange.Online] = money;\r\n        addition[BuffRange.Offline] = money / 2;\r\n        [BuffSource.Building,BuffSource.Policy,BuffSource.Photo,BuffSource.Quest].forEach((source)=>{\r\n            let buff = buffs.Calculation(source,this);\r\n            Object.keys(buff).forEach((range)=>{\r\n                addition[range] *= buff[range];\r\n            });\r\n        });\r\n        return addition;\r\n    }\r\n\r\n    get money(){\r\n        return this.baseMoney * this.multiple; //这里需要按等级计算，这是基础金钱收益\r\n    }\r\n\r\n    get multiple(){\r\n        switch (this.star) {\r\n            case 1:\r\n                return  1;\r\n            case 2:\r\n                return 2;\r\n            case 3:\r\n                return 6;\r\n            case 4:\r\n                return 24;\r\n            case 5:\r\n                return 120;\r\n            default:\r\n                return 1;\r\n        }\r\n    }\r\n\r\n    getBuffValue(buff){\r\n        return buff.buff * this.star;\r\n    }\r\n}\r\n\r\nlet BuildingRarity = {\r\n    Common:\"普通\",\r\n    Rare:\"稀有\",\r\n    Legendary:\"史诗\"\r\n};\r\n\r\nlet BuildingType = {\r\n    Residence:\"住宅\",\r\n    Business:\"商业\",\r\n    Industrial:\"工业\"\r\n};\r\n\r\nexport {\r\n    Building,\r\n    BuildingRarity,\r\n    BuildingType\r\n}","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport School from \"./School\";\r\nimport PaperMill from \"./PaperMill\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass BookCity extends Building{\r\n    constructor(){\r\n        super(\"图书城\",BuildingRarity.Rare,BuildingType.Business,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new School().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Targets,new PaperMill().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default BookCity","import {Building, BuildingType, BuildingRarity} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass Bungalow extends Building{\r\n    constructor(){\r\n        super(\"平房\",BuildingRarity.Common,BuildingType.Residence,1.1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Residence,BuffRange.Residence,0.2));\r\n    }\r\n}\r\n\r\nexport default Bungalow","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport GardenHouse from \"./GardenHouse\";\r\n\r\nclass BusinessCenter extends Building{\r\n    constructor(){\r\n        super(\"商贸中心\",BuildingRarity.Rare,BuildingType.Business,1.022);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new GardenHouse().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Supply,BuffRange.Supply,0.1));\r\n    }\r\n}\r\n\r\nexport default BusinessCenter","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport WoodFactory from \"./WoodFactory\";\r\n\r\nclass Chalet extends Building{\r\n    constructor(){\r\n        super(\"木屋\",BuildingRarity.Common,BuildingType.Residence,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new WoodFactory().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default Chalet","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass ChineseSmallBuilding extends Building{\r\n    constructor(){\r\n        super(\"中式小楼\",BuildingRarity.Rare,BuildingType.Residence,1.4);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Online,BuffRange.Online,0.2));\r\n        this.buffs.push(new Buff(BuffRange.Residence,BuffRange.Residence,0.15));\r\n    }\r\n}\r\n\r\nexport default ChineseSmallBuilding","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport TextileMill from \"./TextileMill\";\r\n\r\nclass ClothingStore extends Building{\r\n    constructor(){\r\n        super(\"服装店\",BuildingRarity.Common,BuildingType.Business,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new TextileMill().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default ClothingStore","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport Residential from \"./Residential\";\r\n\r\nclass ConvenienceStore extends Building{\r\n    constructor(){\r\n        super(\"便利店\",BuildingRarity.Common,BuildingType.Business,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new Residential().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default ConvenienceStore","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport SkyVilla from \"./SkyVilla\";\r\n\r\nclass FolkFood extends Building{\r\n    constructor(){\r\n        super(\"民食斋\",BuildingRarity.Legendary,BuildingType.Business,1.52);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new SkyVilla().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Online,BuffRange.Online,0.2));\r\n    }\r\n}\r\n\r\nexport default FolkFood","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport VegetableMarket from \"./VegetableMarket\";\r\n\r\nclass FoodFactory extends Building{\r\n    constructor(){\r\n        super(\"食品厂\",BuildingRarity.Common,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new VegetableMarket().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default FoodFactory","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport BusinessCenter from \"./BusinessCenter\";\r\n\r\nclass GardenHouse extends Building{\r\n    constructor(){\r\n        super(\"花园洋房\",BuildingRarity.Rare,BuildingType.Residence,1.022);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new BusinessCenter().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Supply,BuffRange.Supply,0.1));\r\n    }\r\n}\r\n\r\nexport default GardenHouse","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport PeoplesOil from \"./PeoplesOil\";\r\n\r\nclass GasStation extends Building{\r\n    constructor(){\r\n        super(\"加油站\",BuildingRarity.Rare,BuildingType.Business,1.204);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new PeoplesOil().BuildingName,0.5));\r\n        this.buffs.push(new Buff(BuffRange.Offline,BuffRange.Offline,0.1));\r\n    }\r\n}\r\n\r\nexport default GasStation","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport PartsFactory from \"./PartsFactory\";\r\n\r\nclass HardwareStore extends Building{\r\n    constructor(){\r\n        super(\"五金店\",BuildingRarity.Common,BuildingType.Business,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new PartsFactory().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default HardwareStore","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass MediaVoice extends Building{\r\n    constructor(){\r\n        super(\"媒体之声\",BuildingRarity.Legendary,BuildingType.Business,1.615);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Offline,BuffRange.Offline,0.1));\r\n        this.buffs.push(new Buff(BuffRange.Global,BuffRange.Global,0.05));\r\n    }\r\n}\r\n\r\nexport default MediaVoice","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport BookCity from \"./BookCity\";\r\n\r\nclass PaperMill extends Building{\r\n    constructor(){\r\n        super(\"造纸厂\",BuildingRarity.Common,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new BookCity().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default PaperMill","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport HardwareStore from \"./HardwareStore\";\r\nimport TencentMachinery from \"./TencentMachinery\";\r\n\r\nclass PartsFactory extends Building{\r\n    constructor(){\r\n        super(\"零件厂\",BuildingRarity.Rare,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new HardwareStore().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Targets,new TencentMachinery().BuildingName,0.5));\r\n    }\r\n}\r\n\r\nexport default PartsFactory","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport GasStation from \"./GasStation\";\r\n\r\nclass PeoplesOil extends Building{\r\n    constructor(){\r\n        super(\"人民石油\",BuildingRarity.Legendary,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new GasStation().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Offline,BuffRange.Offline,0.1));\r\n    }\r\n}\r\n\r\nexport default PeoplesOil","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass PowerPlant extends Building{\r\n    constructor(){\r\n        super(\"电厂\",BuildingRarity.Common,BuildingType.Industrial,1.18);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Online,BuffRange.Online,0.3));\r\n        //电厂buff比较特殊，是0.2/0.5/0.8/1.1/1.4\r\n    }\r\n\r\n    getBuffValue(buff) {\r\n        return super.getBuffValue(buff) - 0.1;\r\n    }\r\n}\r\n\r\nexport default PowerPlant","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport ConvenienceStore from \"./ConvenienceStore\";\r\n\r\nclass Residential extends Building{\r\n    constructor(){\r\n        super(\"居民楼\",BuildingRarity.Common,BuildingType.Residence,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new ConvenienceStore().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default Residential","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass RevivalMansion extends Building{\r\n    constructor(){\r\n        super(\"复兴公馆\",BuildingRarity.Legendary,BuildingType.Residence,1.672);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Offline,BuffRange.Offline,0.1));\r\n        this.buffs.push(new Buff(BuffRange.Supply,BuffRange.Supply,0.1));\r\n    }\r\n}\r\n\r\nexport default RevivalMansion","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport BookCity from \"./BookCity\";\r\n\r\nclass School extends Building{\r\n    constructor(){\r\n        super(\"学校\",BuildingRarity.Common,BuildingType.Business,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new BookCity().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default School","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport FolkFood from \"./FolkFood\";\r\n\r\nclass SkyVilla extends Building{\r\n    constructor(){\r\n        super(\"空中别墅\",BuildingRarity.Legendary,BuildingType.Residence,1.52);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new FolkFood().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Online,BuffRange.Online,0.2));\r\n    }\r\n}\r\n\r\nexport default SkyVilla","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass SmallApartment extends Building{\r\n    constructor(){\r\n        super(\"小型公寓\",BuildingRarity.Common,BuildingType.Residence,1.18);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Supply,BuffRange.Supply,0.15));\r\n    }\r\n\r\n    getBuffValue(buff) {\r\n        //TODO:这里的公式可能有错误\r\n        return super.getBuffValue(buff) - 0.05;\r\n    }\r\n}\r\n\r\nexport default SmallApartment","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport SteelStructureHouse from \"./SteelStructureHouse\";\r\n\r\nclass SteelPlant extends Building{\r\n    constructor(){\r\n        super(\"钢铁厂\",BuildingRarity.Rare,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new SteelStructureHouse().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Industrial,BuffRange.Industrial,0.15));\r\n    }\r\n}\r\n\r\nexport default SteelPlant","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport SteelPlant from \"./SteelPlant\";\r\n\r\nclass SteelStructureHouse extends Building{\r\n    constructor(){\r\n        super(\"钢结构房\",BuildingRarity.Common,BuildingType.Residence,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new SteelPlant().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default SteelStructureHouse","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass TalentApartment extends Building{\r\n    constructor(){\r\n        super(\"人才公寓\",BuildingRarity.Rare,BuildingType.Residence,1.4);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Online,BuffRange.Online,0.2));\r\n        this.buffs.push(new Buff(BuffRange.Industrial,BuffRange.Industrial,0.15));\r\n    }\r\n}\r\n\r\nexport default TalentApartment","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport PartsFactory from \"./PartsFactory\";\r\n\r\nclass TencentMachinery extends Building{\r\n    constructor(){\r\n        super(\"企鹅机械\",BuildingRarity.Legendary,BuildingType.Industrial,1.33);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new PartsFactory().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Global,BuffRange.Global,0.1));\r\n    }\r\n}\r\n\r\nexport default TencentMachinery","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport ClothingStore from \"./ClothingStore\";\r\n\r\nclass TextileMill extends Building{\r\n    constructor(){\r\n        super(\"纺织厂\",BuildingRarity.Rare,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new ClothingStore().BuildingName,1));\r\n        this.buffs.push(new Buff(BuffRange.Business,BuffRange.Business,0.15));\r\n    }\r\n}\r\n\r\nexport default TextileMill","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport FoodFactory from \"./FoodFactory\";\r\n\r\nclass VegetableMarket extends Building{\r\n    constructor(){\r\n        super(\"菜市场\",BuildingRarity.Common,BuildingType.Business,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new FoodFactory().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default VegetableMarket","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\n\r\nclass WaterPlant extends Building{\r\n    constructor(){\r\n        super(\"水厂\",BuildingRarity.Common,BuildingType.Industrial,1.26);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Offline,BuffRange.Offline,1));\r\n    }\r\n}\r\n\r\nexport default WaterPlant","import {Building, BuildingRarity, BuildingType} from \"../Building\";\r\nimport {Buff, BuffRange} from \"../Buff\";\r\nimport VegetableMarket from \"./VegetableMarket\";\r\n\r\nclass WoodFactory extends Building{\r\n    constructor(){\r\n        super(\"木材厂\",BuildingRarity.Common,BuildingType.Industrial,1);\r\n    }\r\n\r\n    initBuffs(){\r\n        this.buffs.push(new Buff(BuffRange.Targets,new VegetableMarket().BuildingName,1));\r\n    }\r\n}\r\n\r\nexport default WoodFactory","import {Buff, BuffRange, Buffs} from \"./Buff\";\r\nimport Chalet from \"./Builds/Chalet\";\r\nimport SteelStructureHouse from \"./Builds/SteelStructureHouse\";\r\nimport Bungalow from \"./Builds/Bungalow\";\r\nimport SmallApartment from \"./Builds/SmallApartment\";\r\nimport Residential from \"./Builds/Residential\";\r\nimport TalentApartment from \"./Builds/TalentApartment\";\r\nimport GardenHouse from \"./Builds/GardenHouse\";\r\nimport ChineseSmallBuilding from \"./Builds/ChineseSmallBuilding\";\r\nimport SkyVilla from \"./Builds/SkyVilla\";\r\nimport RevivalMansion from \"./Builds/RevivalMansion\";\r\nimport ConvenienceStore from \"./Builds/ConvenienceStore\";\r\nimport School from \"./Builds/School\";\r\nimport ClothingStore from \"./Builds/ClothingStore\";\r\nimport HardwareStore from \"./Builds/HardwareStore\";\r\nimport VegetableMarket from \"./Builds/VegetableMarket\";\r\nimport BookCity from \"./Builds/BookCity\";\r\nimport BusinessCenter from \"./Builds/BusinessCenter\";\r\nimport GasStation from \"./Builds/GasStation\";\r\nimport FolkFood from \"./Builds/FolkFood\";\r\nimport MediaVoice from \"./Builds/MediaVoice\";\r\nimport WoodFactory from \"./Builds/WoodFactory\";\r\nimport PaperMill from \"./Builds/PaperMill\";\r\nimport WaterPlant from \"./Builds/WaterPlant\";\r\nimport PowerPlant from \"./Builds/PowerPlant\";\r\nimport FoodFactory from \"./Builds/FoodFactory\";\r\nimport SteelPlant from \"./Builds/SteelPlant\";\r\nimport TextileMill from \"./Builds/TextileMill\";\r\nimport PartsFactory from \"./Builds/PartsFactory\";\r\nimport TencentMachinery from \"./Builds/TencentMachinery\";\r\nimport PeoplesOil from \"./Builds/PeoplesOil\";\r\nimport {BuildingRarity} from \"./Building\";\r\n\r\nonmessage = function (e) {\r\n    let data = e.data;\r\n    calculation(data.list,data.buff);\r\n};\r\n\r\nlet buildings = [\r\n    new Chalet(),\r\n    new SteelStructureHouse(),\r\n    new Bungalow(),\r\n    new SmallApartment(),\r\n    new Residential(),\r\n    new TalentApartment(),\r\n    new GardenHouse(),\r\n    new ChineseSmallBuilding(),\r\n    new SkyVilla(),\r\n    new RevivalMansion(),\r\n    new ConvenienceStore(),\r\n    new School(),\r\n    new ClothingStore(),\r\n    new HardwareStore(),\r\n    new VegetableMarket(),\r\n    new BookCity(),\r\n    new BusinessCenter(),\r\n    new GasStation(),\r\n    new FolkFood(),\r\n    new MediaVoice(),\r\n    new WoodFactory(),\r\n    new PaperMill(),\r\n    new WaterPlant(),\r\n    new PowerPlant(),\r\n    new FoodFactory(),\r\n    new SteelPlant(),\r\n    new TextileMill(),\r\n    new PartsFactory(),\r\n    new TencentMachinery(),\r\n    new PeoplesOil()\r\n];\r\nbuildings.forEach((item)=>{\r\n    item.initBuffs();\r\n});\r\n\r\nfunction calculation(list,buff) {\r\n    let programs = [];\r\n    list.forEach(function (building) {\r\n        let program = [];\r\n        let sel = getFlagArrs(building.list.length,3);\r\n        sel.forEach(function (val) {\r\n            let p = [];\r\n            val.forEach(function (v, index) {\r\n                if (v===1){\r\n                    let c = building.list[index];\r\n                    buildings.forEach((item)=>{\r\n                        if (item.BuildingName===c.name){\r\n                            item.star = c.star;\r\n                            item.quest = c.quest;\r\n                            p.push(item);\r\n                            return true;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            program.push(p);\r\n        });\r\n        programs.push(program);\r\n    });\r\n\r\n    //需要结果：\r\n    //1.在线金币最高\r\n    //2.货物加成最高且在线金币最高\r\n    //3.货物加成最高且橙色建筑最多且紫色建筑最多\r\n    //4.离线金币最高\r\n\r\n    let result = {\r\n        onlineMoney:{\r\n            money:0,\r\n            addition:{}\r\n        },\r\n        supplyMoney:{\r\n            supply:0,\r\n            money:0,\r\n            addition:{}\r\n        },\r\n        supplyRarity:{\r\n            supply:0,\r\n            legendary:0,\r\n            rare:0,\r\n            addition:{}\r\n        },\r\n        offlineMoney:{\r\n            money:0,\r\n            addition:{}\r\n        }\r\n    };\r\n\r\n    let progressFull = programs[0].length;\r\n    programs[0].forEach(function (val1,i1) {\r\n        postMessage({\r\n            mode:\"progress\",\r\n            progress:Math.round((i1+1)/progressFull*100)\r\n        });\r\n        programs[1].forEach(function (val2) {\r\n            programs[2].forEach(function (val3) {\r\n                let temp = [...val1,...val2,...val3];\r\n                let addition = {\r\n                    online:0,\r\n                    offline:0,\r\n                    supply:0,\r\n                    buildings:[]\r\n                };\r\n\r\n                let buffs = new Buffs();\r\n                buff.forEach(function (source) {\r\n                    source.list.forEach(function (buff) {\r\n                        buffs.add(source.type,new Buff(buff.range,buff.target,buff.buff));\r\n                    });\r\n                });\r\n\r\n                let legendary = 0;\r\n                let rare = 0;\r\n\r\n                temp.forEach(function (t) {\r\n                    if (t.rarity===BuildingRarity.Legendary){\r\n                        legendary += 1;\r\n                    }else if (t.rarity===BuildingRarity.Rare){\r\n                        rare += 1;\r\n                    }\r\n                    buffs.addBuilding(t);\r\n                    if (t.quest>0){\r\n                        buffs.addQuest(t);\r\n                    }\r\n                });\r\n\r\n                temp.forEach(function (t) {\r\n                    let a = t.calculation(buffs);\r\n                    addition.online += a[BuffRange.Online];\r\n                    addition.offline += a[BuffRange.Offline];\r\n                    addition.buildings.push({\r\n                        online:Math.round(a[BuffRange.Online]*100),\r\n                        offline:Math.round(a[BuffRange.Offline]*100),\r\n                        building:t\r\n                    });\r\n                });\r\n                addition.online = Math.round(addition.online*100);\r\n                addition.offline = Math.round(addition.offline*100);\r\n                addition.supply = Math.round(buffs.supplyBuff*100);\r\n\r\n                if (addition.online>result.onlineMoney.money){\r\n                    result.onlineMoney.money = addition.online;\r\n                    result.onlineMoney.addition = addition;\r\n                }\r\n                if (addition.offline>result.offlineMoney.money){\r\n                    result.offlineMoney.money = addition.offline;\r\n                    result.offlineMoney.addition = addition;\r\n                }\r\n                if (addition.supply===result.supplyMoney.supply){\r\n                    if (addition.online>result.supplyMoney.money){\r\n                        result.supplyMoney.money = addition.online;\r\n                        result.supplyMoney.supply = addition.supply;\r\n                        result.supplyMoney.addition = addition;\r\n                    }\r\n                }else if (addition.supply>result.supplyMoney.supply){\r\n                    result.supplyMoney.money = addition.online;\r\n                    result.supplyMoney.supply = addition.supply;\r\n                    result.supplyMoney.addition = addition;\r\n                }\r\n                if (addition.supply===result.supplyRarity.supply){\r\n                    if (legendary===result.supplyRarity.legendary){\r\n                        if (rare>result.supplyRarity.rare){\r\n                            result.supplyRarity.supply = addition.supply;\r\n                            result.supplyRarity.legendary = legendary;\r\n                            result.supplyRarity.rare = rare;\r\n                            result.supplyRarity.addition = addition;\r\n                        }\r\n                    }else if (legendary>result.supplyRarity.legendary){\r\n                        result.supplyRarity.supply = addition.supply;\r\n                        result.supplyRarity.legendary = legendary;\r\n                        result.supplyRarity.rare = rare;\r\n                        result.supplyRarity.addition = addition;\r\n                    }\r\n                }else if (addition.supply>result.supplyRarity.supply){\r\n                    result.supplyRarity.supply = addition.supply;\r\n                    result.supplyRarity.legendary = legendary;\r\n                    result.supplyRarity.rare = rare;\r\n                    result.supplyRarity.addition = addition;\r\n                }\r\n            });\r\n        });\r\n    });\r\n\r\n    postMessage({\r\n        mode:\"result\",\r\n        result:{\r\n            onlineMoney:result.onlineMoney.addition,\r\n            supplyMoney:result.supplyMoney.addition,\r\n            supplyRarity:result.supplyRarity.addition,\r\n            offlineMoney:result.offlineMoney.addition\r\n        }\r\n    });\r\n    postMessage(\"done\");\r\n}\r\n\r\nfunction getFlagArrs(m, n) {\r\n    if(!n || n < 1) {\r\n        return [];\r\n    }\r\n    let resultArrs = [],\r\n        flagArr = [],\r\n        isEnd = false,\r\n        i, j, leftCnt;\r\n\r\n    for (i = 0; i < m; i++) {\r\n        flagArr[i] = i < n ? 1 : 0;\r\n    }\r\n\r\n    resultArrs.push(flagArr.concat());\r\n    if (m<=n){\r\n        return resultArrs;\r\n    }\r\n\r\n    while (!isEnd) {\r\n        leftCnt = 0;\r\n        for (i = 0; i < m - 1; i++) {\r\n            if (flagArr[i] === 1 && flagArr[i+1] === 0) {\r\n                for(j = 0; j < i; j++) {\r\n                    flagArr[j] = j < leftCnt ? 1 : 0;\r\n                }\r\n                flagArr[i] = 0;\r\n                flagArr[i+1] = 1;\r\n                let aTmp = flagArr.concat();\r\n                resultArrs.push(aTmp);\r\n                if(aTmp.slice(-n).join(\"\").indexOf('0') === -1) {\r\n                    isEnd = true;\r\n                }\r\n                break;\r\n            }\r\n            flagArr[i] === 1 && leftCnt++;\r\n        }\r\n    }\r\n    return resultArrs;\r\n}"],"sourceRoot":""}